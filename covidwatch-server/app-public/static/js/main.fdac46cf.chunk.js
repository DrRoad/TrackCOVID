(this["webpackJsonpcovidwatch-web"]=this["webpackJsonpcovidwatch-web"]||[]).push([[0],{100:function(e,t){e.exports={translation:{aboutButton:"About",checkpointsTab:"Checkpoints",statusTab:"Status",settingsTab:"Settings",welcomeMessage:"Welcome to TrackCOVID. To participate in the effort to track the spread of the SARS-COV-2 virus, please host or join a checkpoint whenever you interact with others in a way that could transmit the virus.",hostCheckpointButton:"Host a Checkpoint",joinCheckpointButton:"Join a Checkpoint",hostingCheckpointMessage:"You are now hosting a checkpoint. Others may join using the QR code below.",endCheckpointButton:"End checkpoint",checkpointCreatedMessage:"Checkpoint created",noCameraPermissionMessage:"This app does not have permission to access your device's camera. Instead, you may take a picture of the QR code.",takePictureButton:"Take a picture",backButton:"Back",joinSuccessfulMessage:"You have joined the checkpoint successfully.",scanErrorMessage:"The QR code could not be read. Please try again.",statusLoadingMessage:"Loading your status...",statusNegativeMessage:"No transmission paths from infected individuals to you have been discovered at this time. However, everyone is at risk and individuals should follow the directives of the CDC as well as local, state, and federal governments.",statusPositiveMessage:"A possible transmission path from an infected individual to you has been discovered. You should take precautionary measures to protect yourself and others, according to the directives of the CDC  as well as local, state, and federal governments.",loadingMessage:"Loading...",standardRiskLevelMessage:"standard",elevatedRiskLevelMessage:"elevated",yourRiskLevelMessage:"Your risk level",aboutReportMessage:"If you or someone you have been in close contact with have received a positive test, you may report it using the button below. This will warn those who may have been exposed of their increased risk. You will remain anonymous.",reportButton:"Anonymous Report",aboutConfirmationCodeMessage:"Do you have a confirmation code to scan? Scanning a confirmation code will help those that may have been exposed, by letting them know that this is a legitimate risk.",scanConfirmationCodeButton:"Scan confirmation code",scanWithoutConfirmationCodeButton:"I don't have a code",reportConfirmationMessage:"This will notify those that may have been exposed of their increased risk. You will remain anonymous. This cannot be undone.",reportCompletedMessage:"Your positive status was reported anonymously. Those at risk will be notified. Thank you.",cancelReportButton:"Never mind",confirmReportButton:"Report now",aboutUseConfirmedDiagnoses:'Selecting "Use only confirmed diagnoses" will ignore possible transmission paths from unconfirmed reports.',useConfirmedDiagnosesButton:"Use only confirmed diagnoses",elevatedRiskAlertMessage:"Your risk level is elevated.",seeStatusTabMessage:"See the status tab."}}},101:function(e,t){e.exports=[{id:"en",name:"English"}]},118:function(e,t,n){e.exports=n(149)},149:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),c=n(214),s=n(213),l=n(8),u=n.n(l),m=n(15),p=n(28),h=n(29),d=n(31),f=n(32),g=n(207),v=n(205),y=n(208),k=n(49),b=n(211),E=n(212),w=n(65),C=n.n(w),S=n(103),x=n.n(S),T=n(104),j=n.n(T),O=n(102),M=n.n(O),B=n(105),D=n.n(B),L=n(206),R=n(217),P=n(202),I=n(151),U=n(204),A=n(203),N=n(191),H=n(195),K=n(93),J=n.n(K),Y=n(92),F=n.n(Y),Q=n(37),W=n.n(Q),V=n(94),q=n.n(V),G=n(85),z=n.n(G),_=n(57),X=n.n(_),Z=n(6),$=n(90),ee=n.n($),te=n(27),ne=te.serverBaseUrl;function ae(){return re.apply(this,arguments)}function re(){return(re=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.localStorage,n=t.getItem("USECONFIRMED")||"false",e.abrupt("return",Promise.resolve(JSON.parse(n)));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.localStorage,e.abrupt("return",Promise.resolve(n.setItem("USECONFIRMED",JSON.stringify(t))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=ee()({serverBaseUrl:ne,safetyPeriod:te.safetyPeriod,estimatedDiagnosisDelay:te.estimatedDiagnosisDelay,getCheckpoints:function(){var e=window.localStorage.getItem("CHECKPOINTS")||"[]";return Promise.resolve(JSON.parse(e))},setCheckpoints:function(e){var t=window.localStorage;return Promise.resolve(t.setItem("CHECKPOINTS",JSON.stringify(e)))},getUseConfirmed:ae,setUseConfirmed:oe}),se={hostCheckpoint:ce.hostCheckpoint,joinCheckpoint:ce.joinCheckpoint,getExposureStatus:ce.getExposureStatus,reportPositive:ce.reportPositive,getUseConfirmed:ae,setUseConfirmed:oe},le={mode:"home",checkpointKey:null,checkpointTime:null,legacyMode:!1},ue=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state=le,e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search).get("checkpoint");if(t)if(t.length===te.checkpointKeyLength)try{se.joinCheckpoint(t).then((function(t){e.setState({mode:"scan-success"}),window.history.replaceState(null,null,window.location.pathname)}))}catch(n){console.error(n),this.setState({mode:"scan-error"}),window.history.replaceState(null,null,window.location.pathname)}else this.setState({mode:"scan-error"}),window.history.replaceState(null,null,window.location.pathname)}},{key:"reset",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(le);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"becomeHost",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.hostCheckpoint();case 3:t=e.sent,n=t.key,a=t.time,this.setState({mode:"host",checkpointKey:n,checkpointTime:a}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),window.alert("There was an unexpected error. Please leave feedback so the developer can fix this.");case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"endHost",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.reset();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"joinCheckpoint",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({mode:"join"});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleScan",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}if(t.length!==te.checkpointKeyLength){e.next=14;break}return e.prev=2,e.next=5,se.joinCheckpoint(t);case 5:this.setState({mode:"scan-success"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),this.setState({mode:"scan-error"});case 12:e.next=22;break;case 14:if(2!==(n=t.split("?checkpoint=")).length||n[1].length!==te.checkpointKeyLength){e.next=21;break}return e.next=18,se.joinCheckpoint(n[1]);case 18:this.setState({mode:"scan-success"}),e.next=22;break;case 21:this.setState({mode:"scan-error"});case 22:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleScanError",value:function(){this.setState({legacyMode:!0})}},{key:"openImageDialog",value:function(){this.refs.checkpointQR.openImageDialog()}},{key:"render",value:function(){var e,t=this.state,n=t.mode,a=t.checkpointKey,o=t.checkpointTime,i=t.legacyMode,c="".concat(window.location.href,"?checkpoint=").concat(a);return"home"===n?e=r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25,marginBottom:25}},r.a.createElement(Z.a,null,(function(e){return e("welcomeMessage")}))),r.a.createElement(H.a,{onClick:this.becomeHost.bind(this),variant:"contained",color:"secondary","aria-label":"add",style:{marginTop:50}},r.a.createElement(F.a,null),r.a.createElement(Z.a,null,(function(e){return e("hostCheckpointButton")}))),r.a.createElement(H.a,{onClick:this.joinCheckpoint.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:50}},r.a.createElement(J.a,null),r.a.createElement(Z.a,null,(function(e){return e("joinCheckpointButton")})))):"host"===n?e=r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25,marginBottom:25}},r.a.createElement(Z.a,null,(function(e){return e("hostingCheckpointMessage")}))),r.a.createElement(z.a,{value:c,size:200,style:{backgroundColor:"#fff",padding:20}}),r.a.createElement(H.a,{onClick:this.endHost.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(q.a,null),r.a.createElement(Z.a,null,(function(e){return e("endCheckpointButton")}))),r.a.createElement(k.a,{style:{marginTop:25}},r.a.createElement(Z.a,null,(function(e){return e("checkpointCreatedMessage")}))," ",new Date(o).toString())):"join"===n?e=r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(X.a,{ref:"checkpointQR",delay:300,onError:this.handleScanError.bind(this),onScan:this.handleScan.bind(this),style:{width:i?0:"100%"},facingMode:"environment",legacyMode:i}),i&&r.a.createElement(k.a,{style:{marginTop:25}},r.a.createElement(Z.a,null,(function(e){return e("noCameraPermissionMessage")}))),r.a.createElement(H.a,{onClick:this.openImageDialog.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(Z.a,null,(function(e){return e("takePictureButton")}))),r.a.createElement(H.a,{onClick:this.reset.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(W.a,null),r.a.createElement(Z.a,null,(function(e){return e("backButton")})))):"scan-success"===n?e=r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25,marginBottom:25}},r.a.createElement(Z.a,null,(function(e){return e("joinSuccessfulMessage")}))),r.a.createElement(H.a,{onClick:this.reset.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(W.a,null),r.a.createElement(Z.a,null,(function(e){return e("backButton")})))):"scan-error"===n&&(e=r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25,marginBottom:25}},r.a.createElement(Z.a,null,(function(e){return e("scanErrorMessage")}))),r.a.createElement(H.a,{onClick:this.reset.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(W.a,null),r.a.createElement(Z.a,null,(function(e){return e("backButton")}))))),e}}]),n}(r.a.Component),me=n(197),pe=n(201),he=n(199),de=n(200),fe=n(198),ge=n(95),ve=n.n(ge),ye=n(106),ke=Object(ye.a)({palette:{type:"dark",primary:{main:"#ffef62"},secondary:{main:"#fbc02d"}}}),be={exposureStatus:!1,loaded:!1,showReportConfirmation:!1,confirmcode:void 0,mode:"default"},Ee=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state=be,e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search).get("confirm");e&&(e.length===te.confirmcodeLength?(this.setState({confirmcode:e}),window.history.replaceState(null,null,window.location.pathname),this.reportConfirmation()):(this.setState({mode:"scan-error"}),window.history.replaceState(null,null,window.location.pathname)))}},{key:"reset",value:function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(be);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showReportPrompt",value:function(){this.setState({mode:"report-prompt"})}},{key:"exitReportPrompt",value:function(){this.setState({mode:"default"})}},{key:"scanConfirmcode",value:function(){this.setState({mode:"scan-confirmcode"})}},{key:"handleScan",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(t.length===te.confirmcodeLength?(this.setState({confirmcode:t}),this.reportConfirmation()):2===(n=t.split("?confirm=")).length&&n[1].length===te.confirmcodeLength?(this.setState({confirmcode:n[1]}),this.reportConfirmation()):this.setState({mode:"scan-error"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleScanError",value:function(){this.setState({mode:"scan-error"})}},{key:"reportConfirmation",value:function(){this.setState({showReportConfirmation:!0})}},{key:"reportPositive",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.confirmcode,e.prev=1,e.next=4,se.reportPositive(t);case 4:this.setState({mode:"report-done",showReportConfirmation:!1}),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),this.reset(),window.alert("There was an unexpected error. Please leave feedback so the developer can fix this.");case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.status,n=e.statusLoaded,a=this.state,o=a.mode,i=a.showReportConfirmation,c=r.a.createElement(Z.a,null,(function(e){return e("statusLoadingMessage")})),s=r.a.createElement(Z.a,null,(function(e){return e("statusNegativeMessage")})),l=r.a.createElement(Z.a,null,(function(e){return e("statusPositiveMessage")})),u=r.a.createElement(Z.a,null,(function(e){return e("statusLoadingMessage")})),m=r.a.createElement(Z.a,null,(function(e){return e("standardRiskLevelMessage")})),p=r.a.createElement(Z.a,null,(function(e){return e("elevatedRiskLevelMessage")})),h=n?t?l:s:c,d=n?t?p:m:u,f=t?"error":"primary";return r.a.createElement(N.a,{container:!0},"default"===o&&r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25}},r.a.createElement(Z.a,null,(function(e){return e("yourRiskLevelMessage")})),": ",r.a.createElement("span",{style:{color:ke.palette[f].main}},d)),r.a.createElement(k.a,{style:{marginTop:15}},h),r.a.createElement(k.a,{style:{marginTop:25}},r.a.createElement(Z.a,null,(function(e){return e("aboutReportMessage")}))),r.a.createElement(H.a,{onClick:this.showReportPrompt.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(ve.a,null),r.a.createElement(Z.a,null,(function(e){return e("reportButton")}))))||"report-prompt"===o&&r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25}},r.a.createElement(Z.a,null,(function(e){return e("aboutConfirmationCodeMessage")}))),r.a.createElement(H.a,{onClick:this.scanConfirmcode.bind(this),variant:"contained",color:"secondary","aria-label":"add",style:{marginTop:50}},r.a.createElement(C.a,null),r.a.createElement(Z.a,null,(function(e){return e("scanConfirmationCodeButton")}))),r.a.createElement(H.a,{onClick:this.reportConfirmation.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:50}},r.a.createElement(Z.a,null,(function(e){return e("scanWithoutConfirmationCodeButton")}))))||"scan-confirmcode"===o&&r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},!i&&r.a.createElement(X.a,{delay:300,onError:this.handleScanError.bind(this),onScan:this.handleScan.bind(this),style:{width:"100%"},facingMode:"environment"}),r.a.createElement(H.a,{onClick:this.reset.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(W.a,null),r.a.createElement(Z.a,null,(function(e){return e("backButton")}))))||"scan-error"===o&&r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25,marginBottom:25}},r.a.createElement(Z.a,null,(function(e){return e("scanErrorMessage")}))),r.a.createElement(H.a,{onClick:this.reset.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(W.a,null),r.a.createElement(Z.a,null,(function(e){return e("backButton")}))))||"report-done"===o&&r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25,marginBottom:25}},r.a.createElement(Z.a,null,(function(e){return e("reportCompletedMessage")}))),r.a.createElement(H.a,{onClick:this.reset.bind(this),variant:"contained",color:"primary","aria-label":"add",style:{marginTop:25}},r.a.createElement(W.a,null),r.a.createElement(Z.a,null,(function(e){return e("backButton")})))),r.a.createElement(me.a,{open:i,disableBackdropClick:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(fe.a,{id:"alert-dialog-title"},"Report positive status?"),r.a.createElement(he.a,null,r.a.createElement(de.a,{id:"alert-dialog-description"},r.a.createElement(Z.a,null,(function(e){return e("reportConfirmationMessage")})))),r.a.createElement(pe.a,null,r.a.createElement(H.a,{onClick:this.reset.bind(this),color:"secondary"},r.a.createElement(Z.a,null,(function(e){return e("cancelReportButton")}))),r.a.createElement(H.a,{onClick:this.reportPositive.bind(this),color:"primary",autoFocus:!0},r.a.createElement(Z.a,null,(function(e){return e("confirmReportButton")}))))))}}]),n}(r.a.Component),we=n(97),Ce=n.n(we),Se=n(96),xe=n.n(Se),Te={useConfirmed:!1},je=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state=Te,e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;se.getUseConfirmed().then((function(t){e.setState({useConfirmed:t})}))}},{key:"toggleUseConfirmed",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.useConfirmed,this.setState({useConfirmed:!t}),se.setUseConfirmed(!t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.useConfirmed;return r.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(k.a,{style:{marginTop:25}},r.a.createElement(Z.a,null,(function(e){return e("aboutUseConfirmedDiagnoses")}))),r.a.createElement(P.a,{component:"nav",style:{marginTop:15,width:"100%"},"aria-label":"settings"},r.a.createElement(I.a,{button:!0,onClick:this.toggleUseConfirmed.bind(this)},r.a.createElement(A.a,null,e?r.a.createElement(xe.a,null):r.a.createElement(Ce.a,null)),r.a.createElement(U.a,{primary:r.a.createElement(Z.a,null,(function(e){return e("useConfirmedDiagnosesButton")}))}))))}}]),n}(r.a.Component),Oe=n(216),Me=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.status,n=e.onExposuresTab?"":r.a.createElement(Z.a,null,(function(e){return" "+e("seeStatusTabMessage")}));return t?r.a.createElement(Oe.a,{style:{marginTop:25,width:"100%"},severity:"error"},r.a.createElement(Z.a,null,(function(e){return e("elevatedRiskAlertMessage")})),n):r.a.createElement("div",null)}}]),n}(r.a.Component),Be=n(98),De=n.n(Be),Le=n(210),Re=n(209),Pe=n(215),Ie=n(71),Ue=n(99),Ae=n(100),Ne={en:n.n(Ae).a};Ie.a.use(Ue.a).use(Z.b).init({resources:Ne,fallbackLng:"fr",keySeparator:!1,interpolation:{escapeValue:!1},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"],cookieMinutes:10,cookieDomain:"myDomain",htmlTag:document.documentElement,checkWhitelist:!0}});var He=Ie.a,Ke=n(101),Je=n.n(Ke);function Ye(e){return r.a.createElement(I.a,Object.assign({button:!0,component:"a"},e))}var Fe=function(e){Object(f.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).state={currentTab:"checkpoints",status:!1,statusLoaded:!1,isDrawerOpen:!1,currentLanguage:He.language},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.checkConfirmcode();var t=function(){var t=Object(m.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,se.getExposureStatus();case 3:n=t.sent,e.setState({status:n,statusLoaded:!0}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),e.setState({status:!1,statusLoaded:!1});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t(),setInterval(t,3e4)}},{key:"checkConfirmcode",value:function(){new URLSearchParams(window.location.search).get("confirm")&&this.setState({currentTab:"status"})}},{key:"onChangeTab",value:function(e,t){this.setState({currentTab:t})}},{key:"openDrawer",value:function(){this.setState({isDrawerOpen:!0})}},{key:"closeDrawer",value:function(){this.setState({isDrawerOpen:!1})}},{key:"onSelectLanguage",value:function(e){He.changeLanguage(e.target.value),this.setState({currentLanguage:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.currentTab,n=e.status,o=e.statusLoaded,i=e.isDrawerOpen,c=e.currentLanguage,s="checkpoints"===t?ue:"status"===t?Ee:je;return r.a.createElement("div",null,r.a.createElement(L.a,{position:"static",color:"secondary"},r.a.createElement(g.a,{maxWidth:"sm",style:{flexGrow:1}},r.a.createElement(y.a,null,r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.openDrawer.bind(this)},r.a.createElement(M.a,null)),r.a.createElement(k.a,{variant:"h6",component:"h1",style:{flexGrow:1}},"TrackCOVID (beta)")))),r.a.createElement(g.a,{maxWidth:"sm",style:{marginBottom:76}},r.a.createElement(a.Suspense,{fallback:"loading"},r.a.createElement(Me,{status:n,onExposuresTab:"status"===t}),r.a.createElement(s,{status:n,statusLoaded:o}),r.a.createElement(g.a,{style:{padding:10,backgroundColor:"#343434",width:"100%",marginTop:50,textAlign:"center",verticalAlign:"middle",fontSize:16,color:"rgba(255, 255, 255, 0.7)",lineHeight:"24px"}},r.a.createElement("img",{src:De.a,alt:"Logo",width:24,height:24,style:{verticalAlign:"middle",marginRight:8,filter:"grayscale(100%)",opacity:.75}}),r.a.createElement("span",{style:{verticalAlign:"middle",lineHeight:"24px"}},"Track"),r.a.createElement("span",{style:{verticalAlign:"middle",lineHeight:"24px"}},"COVID")),r.a.createElement(g.a,{style:{textAlign:"center"}},r.a.createElement("div",null,r.a.createElement(Re.a,{style:{marginTop:"20px"}},r.a.createElement(Pe.a,{labelId:"language-select-label",id:"language-select",value:c,onChange:this.onSelectLanguage.bind(this)},Je.a.map((function(e){return r.a.createElement(Le.a,{value:e.id},e.name)})))))))),r.a.createElement(b.a,{value:t,style:{width:"100%",position:"fixed",bottom:0},onChange:this.onChangeTab.bind(this),showLabels:!0},r.a.createElement(E.a,{label:r.a.createElement(Z.a,null,(function(e){return e("checkpointsTab")})),value:"checkpoints",icon:r.a.createElement(C.a,null)}),r.a.createElement(E.a,{label:r.a.createElement(Z.a,null,(function(e){return e("statusTab")})),value:"status",icon:r.a.createElement(x.a,null)}),r.a.createElement(E.a,{label:r.a.createElement(Z.a,null,(function(e){return e("settingsTab")})),value:"settings",icon:r.a.createElement(j.a,null)})),r.a.createElement(R.a,{open:i,onClose:this.closeDrawer.bind(this)},r.a.createElement(P.a,{component:"nav","aria-label":"settings"},r.a.createElement(Ye,{style:{width:250},href:"/",target:"_blank"},r.a.createElement(A.a,null,r.a.createElement(D.a,null)),r.a.createElement(U.a,{primary:r.a.createElement(Z.a,null,(function(e){return e("aboutButton")}))})))))}}]),n}(r.a.Component);i.a.render(r.a.createElement(s.a,{theme:ke},r.a.createElement(c.a,null),r.a.createElement(Fe,null)),document.querySelector("#root"))},27:function(e,t){e.exports={safetyPeriod:12096e5,estimatedDiagnosisDelay:1728e5,serverBaseUrl:"/api/checkpoints",checkpointKeyLength:16,confirmcodeLength:20}},90:function(e,t,n){var a=n(8),r=n(145);e.exports=function(e){var t=e.serverBaseUrl,n=e.safetyPeriod,o=e.estimatedDiagnosisDelay,i=e.getCheckpoints,c=e.setCheckpoints,s=e.getUseConfirmed,l=e.setUseConfirmed;function u(e){return m.apply(this,arguments)}function m(){return(m=r(a.mark((function e(n){var r,o,i,c,s=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"",o=s.length>2?s[2]:void 0,e.next=4,fetch("".concat(t,"/").concat(r),{method:n,headers:{Accept:"application/json","Content-Type":"application/json"},body:o?JSON.stringify(o):void 0});case 4:if(i=e.sent,!(c=i.json()).error){e.next=8;break}throw new Error("request-failed: ".concat(t,"/").concat(r));case 8:return e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=r(a.mark((function e(t){var n,r,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:if(!((n=e.sent).length>0)){e.next=7;break}return r=n[n.length-1],e.next=7,u("POST","links/".concat(t,"/").concat(r.key));case 7:return o={key:t,time:Date.now()},n.push(o),e.next=11,c(n);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=r(a.mark((function e(t){var n,r,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("GET","".concat(t));case 2:return n=e.sent,e.next=5,s();case 5:return r=e.sent,o=r?"confirmedRiskLevel":"riskLevel",e.abrupt("return",!n.error&&"elevated"===n[o]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=r(a.mark((function e(){var t;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("POST");case 2:return t=e.sent.checkpoint,e.abrupt("return",p(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=r(a.mark((function e(){var t,r,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return t=e.sent,r=t.filter((function(e){return Date.now()-e.time<=n})),e.next=6,Promise.all(r.map((function(e){return d(e.key)})));case 6:return o=e.sent,e.abrupt("return",o.some((function(e){return e})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=r(a.mark((function e(t){var n,r,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return n=e.sent,r=n.filter((function(e){return Date.now()-e.time<=o})),c=r.map((function(e){return e.key})),e.next=7,u("POST","exposures",{keys:c,confirmcode:t});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{hostCheckpoint:function(){return g.apply(this,arguments)},joinCheckpoint:function(e){return p(e)},getExposureStatus:function(){return v.apply(this,arguments)},reportPositive:function(e){return y.apply(this,arguments)},getUseConfirmed:s,setUseConfirmed:l}}},98:function(e,t,n){e.exports=n.p+"static/media/logo.71bb516e.svg"}},[[118,1,2]]]);
//# sourceMappingURL=main.fdac46cf.chunk.js.map